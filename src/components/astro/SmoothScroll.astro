---
// src/components/astro/SmoothScroll.astro
---

<script>
  // Smooth scroll mejorado - versión corregida
  document.addEventListener('DOMContentLoaded', () => {
    const anchorLinks = document.querySelectorAll('a[href^="#"]');
    
    anchorLinks.forEach(link => {
      link.addEventListener('click', (event) => {
        event.preventDefault();
        
        const href = link.getAttribute('href');
        
        // Ignorar enlaces vacíos o solo '#'
        if (!href || href === '#') return;
        
        const targetElement = document.querySelector(href);
        
        if (targetElement) {
          // Scroll suave al elemento objetivo
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start',
            inline: 'nearest'
          });
          
          // Actualizar la URL sin recargar la página (versión corregida)
          if (window.history.pushState) {
            window.history.pushState({}, '', href);
          }
        }
      });
    });
  });
</script>